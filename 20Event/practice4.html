<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title></title>
    </head>
    <body>
        <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
        <button id="fade-btn">淡出</button>
        
        <script>
            var fadeObj = document.getElementById("fade-obj");
            var fadeBtn = document.getElementById("fade-btn");
            var opacity = 1;
            var id1,id2;
            function fadeOut() {
                fadeObj.style.opacity = opacity;
                opacity -= 0.005;
                fadeBtn.disabled = true;
                if (opacity <= 0) {
                    opacity = 0;
                    fadeBtn.disabled = false;
                }
            }
            
            function fadeIn() {
                fadeObj.style.opacity = opacity;
                opacity += 0.005;
                fadeBtn.disabled = true;
                if (opacity >= 1) {
                    opacity = 1;
                    fadeBtn.disabled = false;
                }
            }
            
            fadeBtn.onclick = function() {
                if (fadeBtn.innerHTML === "淡出") {
                    fadeBtn.innerHTML = "淡入";
                    clearInterval(id2);
                    id1 = setInterval(fadeOut,10);
                    } else if (fadeBtn.innerHTML === "淡入") {
                    fadeBtn.innerHTML = "淡出";
                    clearInterval(id1);
                    id2 = setInterval(fadeIn,10);
                }
            }
        </script>
    </body>
</html>